---
layout: post
title: Distributed Dependency Resolution
---

>The Problem statement

We have 'n' resources R1,R2,R3....Rn which can be any of 'k' type RT1,RT2,RT3...RTk which arrives as a stream of events. The stream of events are the CRUD operation on these resources. Each of these events are idempotent and self contained. They carry all the information needed to get processsed. Lets say we have a dependency template that says the dependency relation among the resourcetypes as shown below.

![Image1]({{ site.url }}/assets/DDR/ddr1.png)

Example:

Let say we have a set of resources R1,R2,R3,R4,R5,R6,R11. 

{% highlight text %}
R1 = RT1
R11 = RT1 
R2 = RT2 
R3 = RT3 
R4 = RT4 
R5 = RT5 
R6 = RT6
{% endhighlight %}

Dependency graph is as shown below for R1.

![Image1]({{ site.url }}/assets/DDR/ddr2.png)

Dependency graph is as shown below for R2.

![Image1]({{ site.url }}/assets/DDR/ddr3.png)

<b>Constraints</b>

<p>

The resources can arrive in anyorder of any type.
The same resource can arrive one after the other in the queue.
When a resource of type RTk arrives and if it is insert/update, it can complete many graphs.
When a resource of type RTk arrives and if it is delete, it can incomplete many graphs.
The underlying processing nodes should be scalable up/down.
The processing Nodes can go down any time.
The processing nodes should be stateless.

</p>

Note that the processing nodes are all running and pulling events from the queue parallelly.

> Solutions





